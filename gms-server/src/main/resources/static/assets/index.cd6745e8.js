import"./index.d4e6d621.js";/* empty css               *//* empty css               *//* empty css              *//* empty css              *//* empty css               *//* empty css              *//* empty css              *//* empty css               */import{u as J}from"./loading.47953f7c.js";import{d as W,j as m,b2 as X,C as _,D as C,aM as a,aL as t,aO as Z,aN as q,aE as A,aQ as c,aR as p,u as K,bP as Y,bQ as ee,b6 as ae,b5 as le,aZ as te,b9 as ne,bG as oe,bH as de,bJ as ue,aX as ie,bL as me,bM as se,aW as re,bR as ce,ba as pe,bF as ve,bN as be}from"./arco.7ab11c03.js";import{u as _e,g as fe}from"./command.52d79e81.js";import"./chart.35386b55.js";import"./vue.5b3e6270.js";const ge={class:"container"},ye={name:"CommandInfo"},Fe=W({...ye,setup(Ve){const d=m({level:-1,syntax:"",pageNo:1,pageSize:20}),f=m([]),g=m(0),{loading:h,setLoading:y}=J(!1),r=m(!1),n=m({}),L=m([-1,1,2,3,4,5,6]),s=async()=>{y(!0);try{const e={...d.value,levelList:d.value.level===-1?void 0:[d.value.level]},{data:o}=await fe(e);f.value=o.records,g.value=o.totalRow}finally{y(!1)}},k=e=>{d.value.pageNo=e,s()},x=e=>{d.value.pageNo=1,d.value.pageSize=e,s()},N=async()=>{await s()},U=()=>{d.value.syntax="",d.value.level=-1},S=async e=>{d.value.level=Number(e),await s()},B=e=>{n.value.id=e.id,n.value.level=e.level,n.value.syntax=e.syntax,n.value.defaultLevel=e.defaultLevel,n.value.clazz=e.clazz,n.value.description=e.description,n.value.enabled=e.enabled,r.value=!0},R=async()=>{await _e(n.value),D(),r.value=!1,await s()},D=()=>{n.value={}};return(e,o)=>{const F=X("Breadcrumb"),I=Y,T=ee,u=ae,v=le,b=te,V=ne,E=oe,M=de,i=ue,z=ie,O=me,P=se,w=re,j=ce,G=pe,Q=ve,H=be;return _(),C("div",ge,[a(F),a(H,{class:"general-card",title:e.$t("menu.game.command")},{default:t(()=>[a(V,{direction:"vertical",align:"start"},{default:t(()=>[a(u,{label:e.$t("command.search.type.label")},{default:t(()=>[(_(!0),C(Z,null,q(L.value,l=>(_(),A(T,{key:l,type:"button","model-value":d.value.level,onChange:S},{default:t(()=>[a(I,{value:l},{default:t(()=>[c(p(l==-1?e.$t("command.level.all"):e.$t("command.level.text")+l),1)]),_:2},1032,["value"])]),_:2},1032,["model-value"]))),128))]),_:1},8,["label"]),a(u,{"hide-label":!0},{default:t(()=>[a(M,{wrap:!1},{default:t(()=>[a(E,null,{default:t(()=>[a(V,null,{default:t(()=>[a(v,{modelValue:d.value.syntax,"onUpdate:modelValue":o[0]||(o[0]=l=>d.value.syntax=l),placeholder:e.$t("command.placeholder.syntax")},null,8,["modelValue","placeholder"]),a(b,{type:"primary",onClick:N},{default:t(()=>[c(p(e.$t("button.search")),1)]),_:1}),a(b,{onClick:U},{default:t(()=>[c(p(e.$t("button.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(O,{"row-key":"id",loading:K(h),data:f.value,"column-resizable":"",pagination:!1,bordered:{cell:!0}},{columns:t(()=>[a(i,{title:e.$t("command.column.syntax"),"data-index":"syntax",width:100,align:"center"},null,8,["title"]),a(i,{title:e.$t("command.column.clazz"),"data-index":"clazz",width:100,align:"center"},null,8,["title"]),a(i,{title:e.$t("command.column.description"),"data-index":"description",width:200,align:"center"},null,8,["title"]),a(i,{title:e.$t("command.column.defaultLevel"),"data-index":"defaultLevel",width:100,align:"center"},null,8,["title"]),a(i,{title:e.$t("command.column.level"),"data-index":"level",width:100,align:"center"},null,8,["title"]),a(i,{title:e.$t("command.column.enabled"),"data-index":"enabled",width:100,align:"center"},{cell:t(({record:l})=>[a(z,{modelValue:l.enabled,"onUpdate:modelValue":$=>l.enabled=$,disabled:!0},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["title"]),a(i,{title:e.$t("command.column.operate"),width:100,align:"center"},{cell:t(({record:l})=>[a(b,{type:"text",size:"mini",onClick:$=>B(l)},{default:t(()=>[c(p(e.$t("button.edit")),1)]),_:2},1032,["onClick"])]),_:1},8,["title"])]),_:1},8,["loading","data"]),a(P,{style:{"margin-top":"20px"},total:g.value,"page-size":d.value.pageSize,current:d.value.pageNo,"show-total":"","show-jumper":"","show-page-size":"","page-size-options":[10,20,40,80,100],onChange:k,onPageSizeChange:x},null,8,["total","page-size","current"]),a(Q,{visible:r.value,"onUpdate:visible":o[7]||(o[7]=l=>r.value=l),width:450,title:e.$t("button.edit"),draggable:"","ok-text":e.$t("button.submit"),onOk:R},{default:t(()=>[a(G,{model:n.value,"auto-label-width":!0},{default:t(()=>[a(u,{field:"syntax",label:e.$t("command.column.syntax"),disabled:!0},{default:t(()=>[a(v,{modelValue:n.value.syntax,"onUpdate:modelValue":o[1]||(o[1]=l=>n.value.syntax=l)},null,8,["modelValue"])]),_:1},8,["label"]),a(u,{field:"clazz",label:e.$t("command.column.clazz"),disabled:!0},{default:t(()=>[a(v,{modelValue:n.value.clazz,"onUpdate:modelValue":o[2]||(o[2]=l=>n.value.clazz=l)},null,8,["modelValue"])]),_:1},8,["label"]),a(u,{field:"level",label:e.$t("command.column.defaultLevel")},{default:t(()=>[a(w,{modelValue:n.value.defaultLevel,"onUpdate:modelValue":o[3]||(o[3]=l=>n.value.defaultLevel=l),min:0,max:6,disabled:!0},null,8,["modelValue"])]),_:1},8,["label"]),a(u,{field:"level",label:e.$t("command.column.level")},{default:t(()=>[a(w,{modelValue:n.value.level,"onUpdate:modelValue":o[4]||(o[4]=l=>n.value.level=l),min:0,max:6},null,8,["modelValue"])]),_:1},8,["label"]),a(u,{field:"enabled",label:e.$t("command.column.enabled")},{default:t(()=>[a(z,{modelValue:n.value.enabled,"onUpdate:modelValue":o[5]||(o[5]=l=>n.value.enabled=l)},null,8,["modelValue"])]),_:1},8,["label"]),a(u,{field:"description",label:e.$t("command.column.description")},{default:t(()=>[a(j,{modelValue:n.value.description,"onUpdate:modelValue":o[6]||(o[6]=l=>n.value.description=l),"max-length":500,disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title","ok-text"])]),_:1},8,["title"])])}}});export{Fe as default};
